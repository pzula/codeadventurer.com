
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Keeping Things DRY Without Complecting: Table Inheritance - Code Adventurer</title>
  <meta name="author" content="Persa Zula">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content="Keeping Things DRY Without Complecting: Table Inheritance When dealing with architecture, we find ourselves often dealing with concepts that are &hellip;">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://codeadventurer.com/2014/11/11/keeping-things-dry-without-complecting-table-inheritance">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Code Adventurer" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Code Adventurer" />
  <meta name="og:title" content="Keeping Things DRY Without Complecting: Table Inheritance" />
  <meta name="og:description" content="Keeping Things DRY Without Complecting: Table Inheritance When dealing with architecture, we find ourselves often dealing with concepts that are &hellip;" />
  <meta name="og:url" content="http://codeadventurer.com/2014/11/11/keeping-things-dry-without-complecting-table-inheritance"/>
  <meta name="url" content="http://codeadventurer.com/2014/11/11/keeping-things-dry-without-complecting-table-inheritance">
  
  <meta name="subject" content="architecture"/>
  <meta name="category" content="architecture"/>
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-43642331-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >

  <header role="banner">
  <hgroup>
    <h1><a href="/">Code Adventurer</a></h1>
    
    <h2>The Journey to Software Crafts(wo)manship</h2>
    
  </hgroup>
</header>


  <nav role="navigation">
    <ul class="nav">
      <li><a href="/blog/archives">All Posts</a></li>
      
      <li>
        <a href="/about">
          About
        </a>
      </li>
      
      <li>
        <a href="http://persazula.com">
          Portfolio
        </a>
      </li>
      
      <li>
        <a href="http://feeds.feedburner.com/CodeAdventurer">
          Subscribe
        </a>
      </li>
      
    </ul>

      
    <form action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:codeadventurer.com" />
        <input class="search" type="text" name="query" results="0" placeholder="Search" x-webkit-speech />
      </fieldset>
    </form>
      
    
</nav>


  <div class="wrapper_single">
    <div class="container">
      <article class="span8 offset2" role="article">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title">Keeping Things DRY Without Complecting: Table Inheritance</h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/103689363303129064704?rel=author"><span class="fn">Persa Zula</span></a></span>
  


        








  


<time datetime="2014-11-11T08:49:00-05:00" pubdate data-updated="true">Nov 11<span>th</span>, 2014</time> â€¢
        

published in
<span class="categories">
  
    <a class='category' href='/categories/architecture/'>architecture</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h3>Keeping Things DRY Without Complecting: Table Inheritance</h3>

<p>When dealing with architecture, we find ourselves often dealing with concepts that are similar, yet just slightly different. In an effort to keep our code DRY, we might reach for an abstraction of these concepts all the way down to the data layer, in order to squeeze out more re-use within our codebase. But sometimes, our abstractions can lead to more complexity down the road. I&rsquo;d like to exploire this concept to see how an abstraction can morph over time, and what sort of decisions along the way can help an abstraction become easier or harder to use.</p>

<p>In the following example, we&rsquo;re going to assume that we are building a type of storage and logic system for content types in a small, hosted content-management system.</p>

<p>A content management system can have many kinds of content &mdash; including polls, blog posts, articles, events and so on. When a user opens an account, they are given a few of these default content types to use and customize.</p>

<p>As the engineer, we know that the types of content that our product offers to users will grow as our product grows, so we take a close look at what the content types have in common in order to try to tease out the similarities and build an abstraction that will allow us to easily add more content types in the future.</p>

<p>We find that each kind of content has a lot of the same ideas: we have sections, and each section can have instructions on what to use that section for, and each section can have many different input types.</p>

<p>There could be a problem, though: when a user modifies one of the content types by adding or removing parts, we can end up with data loss if they&rsquo;ve used that content type prior to the modification. By removing the field for author in the future, all prior posts that had an author entry will no longer have that data.</p>

<p>After some thought, we find a way around the problem of data loss. We will have
Templates for each type of content. The template is where a user can customize
how they want to be able to use this input form, from naming the template to
adding, editing and deleting fields and text within sections. Sections can also
be added, edited, or deleted. Some users might want to have a mood input field in
their blog posts. Others might want to have a &lsquo;Related Articles&rsquo; section
available when they add new acticles.  We also want to offer the ability to
bring back anything that has been removed from the template in the past, so each
template will have a &lsquo;Deleted&rsquo; section, where inputs and sections can be
retreived for later use.</p>

<p>However, the Template is only used for storing the structure of how the user
wants to interact with that type of content. When a user actually wants to
create a new piece of content, we will duplicate the structure of the Template
and turn it into a Document. This Document is a snapshot of the Template at that
point in time, and also contains the data entered by the user (such as an article or a blog post). If the Template for that content types gets modified
in the future, it will not affect a Document that has been created for that
content type, because they
are different objects and the data resides in different tables.</p>
</div>


  <footer>
    <p class="meta">
      
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/103689363303129064704?rel=author"><span class="fn">Persa Zula</span></a></span>
  


      








  


<time datetime="2014-11-11T08:49:00-05:00" pubdate data-updated="true">Nov 11<span>th</span>, 2014</time>
      

published in
<span class="categories">
  
    <a class='category' href='/categories/architecture/'>architecture</a>
  
</span>


    </p>
    <p class="meta">
    
      <a class="basic-alignment left" href="/2014/11/02/building-my-own-lightsaber-ergodox-tips" title="Previous Post: Building My Own Lightsaber: Ergodox Tips">&laquo; Building My Own Lightsaber: Ergodox Tips</a>
    
    
    </p>
  </footer>

</div>

        
          <div class="article-format">
            <h1>Comments</h1>
            <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
          </div>
        
      </article>
    </div>
  </div>
  <footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Code Adventurer</a>
  - Copyright &copy; 2014 - Persa Zula
</p>
<p class="pull-right">
  <span>
    Powered by <a href="http://octopress.org/" target="_blank">Octopress</a> and <a href="https://github.com/vladigleba/readify" target="_blank">Readify</a>.
  </span>
</p>

  </div>
</footer>
<div id="footer-widgets">
  <div class="container">
      <a href="http://github.com/pzula">github</a> |
      <a href="http://twitter.com/pzula">twitter</a>
  </div>
</div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>


<script type="text/javascript">
      var disqus_shortname = 'codeadventurer';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://codeadventurer.com/2014/11/11/keeping-things-dry-without-complecting-table-inheritance';
        var disqus_url = 'http://codeadventurer.com/2014/11/11/keeping-things-dry-without-complecting-table-inheritance';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
